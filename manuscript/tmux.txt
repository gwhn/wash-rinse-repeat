# tmux

## Installation

Using Homebrew: `$ brew install tmux`

Using MacPorts: `$ sudo port install tmux`

Using Ubuntu: `$ sudo apt-get install tmux`

To test installation: `$ tmux -V` should indicate version.

## Basics

To start: `$ tmux`

To finish: `$ exit`

To create a session named basic: `$ tmux new-session -s basic` or `$ tmux new -s basic`

To detach a session: `prefix d`

**By default, `prefix` is bound to `<CTRL-b>`, but my `.tmux.conf` rebinds it to
`<CTRL-a>`.**

To list key bindings and their associated commands: `prefix ?`

To list existing sessions: `$ tmux list-sessions` or `$ tmux ls`

If there is only one session running, attach to it with: `$ tmux attach`,
otherwise, attach to it by name using: `$ tmux attach -t {name}`. 

The `-t` switch specifies the target.

The `-f` switch specifies the path to a configuration file.

To destroy a session by name: `$ tmux kill-session -t {name}`

To enter command mode: `prefix :`

## Windows

To create a session with a named window, use the `-n` flag: `$ tmux new -s
windows -n shell`

To create a window: `prefix c`

To rename a window: `prefix ,`

To move to the next window: `prefix n`

**Use `prefix <CTRL-l>` to move to the next window**

To move to the previous window: `prefix p`

**Use `prefix <CTRL-h>` to move to the previous window**

To move to a window by index: `prefix {index}`, where index is number starting
at 0.

To find a window by name: `prefix f`, then enter the name.

To display a list of windows: `prefix w`

To close a window, either type `exit` at the prompt, or: `prefix &` and
confirm.

## Panes

To create a vertical split pane: `prefix %`

**Use `prefix |` to create a vertical split**

To create a horizontal split pane: `prefix "`

**Use `prefix -` to create a horizontal split**

To cycle through panes: `prefix o`

**Use `prefix h`, `prefix j`, `prefix k`, `prefix l` to move between panes**

To cycle through pane layouts: `prefix <SPACE>`

To increase size of left pane: `prefix L`. To increase size of right pane:
`prefix H`. To increase size of top pane: `prefix J`. To increase size of
bottom pane: `prefix K`. 

To close a pane: `prefix x` and confirm.

## Customization

For system configuration: `/etc/tmux.conf`

For current user configuration: `~/.tmux.conf`

To reload the configuration: `: source-file ~/.tmux.conf`

**Use `prefix r` to reload configuration**

Use `-g` switch for global options.

Use `set-option` or `set` command to set options.

Use `unbind-key` or `unbind` command to remove key bindings.

Use `bind-key` or `bind` command to add key bindings.

Use `set-window-option` or `setw` command to set window options.

## Tmuxinator

Use tmuxinator Rubygem to manage configurations.

    # ~/.tmuxinator/dev.yml

    name: dev
    root: ~/Projects

    # Optional tmux socket
    # socket_name: foo

    # Runs before everything. Use it to start daemons etc.
    # pre: sudo /etc/rc.d/mysqld start

    # Runs in each window and pane before window/pane specific commands. Useful for setting up interpreter versions.
    # pre_window: rbenv shell 2.0.0-p247

    # Pass command line options to tmux. Useful for specifying a different tmux.conf.
    # tmux_options: -f ~/.tmux.mac.conf

    # Change the command to call tmux.  This can be used by derivatives/wrappers like byobu.
    # tmux_command: byobu

    # Specifies (by name or index) which window will be selected on project startup. If not set, the first window is used.
    # startup_window: logs

    # Controls whether the tmux session should be attached to automatically. Defaults to true.
    # attach: false

    # Runs after everything. Use it to attach to tmux with custom options etc.
    # post: tmux -CC attach -t dev

    windows:
      - editor:
          layout: main-horizontal
          panes:
            - vim
            - #empty
      - console: #empty

## References

[gwhn/tmux-config on Github](https://github.com/gwhn/tmux-config)
